/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2025-11-13 10:51:56 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.Set;

public final class supplier_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fchoose;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems;
  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fotherwise;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fchoose = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _005fjspx_005ftagPool_005fc_005fotherwise = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fchoose.release();
    _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.release();
    _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.release();
    _005fjspx_005ftagPool_005fc_005fotherwise.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");

    String username = (String) session.getAttribute("username");
    Boolean isLoggedIn = (Boolean) session.getAttribute("isLoggedIn");
    String userRole = (String) session.getAttribute("userRole");
    
    if (username == null || isLoggedIn == null || !isLoggedIn) {
        response.sendRedirect(request.getContextPath() + "/login.jsp");
        return;
    }
    
    // Kiểm tra quyền: chỉ người có quyền manage_suppliers mới truy cập được
    @SuppressWarnings("unchecked")
    Set<String> userPermissions = (Set<String>) session.getAttribute("userPermissions");
    if (userPermissions == null || !userPermissions.contains("manage_suppliers")) {
        response.sendRedirect(request.getContextPath() + "/error/403.jsp");
        return;
    }

      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("    <meta charset=\"UTF-8\">\r\n");
      out.write("    <title>Nhà cung cấp | Bảng điều khiển</title>\r\n");
      out.write("    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>\r\n");
      out.write("    <link href=\"");
      out.print(request.getContextPath());
      out.write("/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" />\r\n");
      out.write("                                <link href=\"");
      out.print(request.getContextPath());
      out.write("/css/font-awesome.min.css\" rel=\"stylesheet\"\r\n");
      out.write("                                    type=\"text/css\" />\r\n");
      out.write("                                <link href=\"");
      out.print(request.getContextPath());
      out.write("/css/ionicons.min.css\" rel=\"stylesheet\"\r\n");
      out.write("                                    type=\"text/css\" />\r\n");
      out.write("                                <link href=\"");
      out.print(request.getContextPath());
      out.write("/css/style.css\" rel=\"stylesheet\"\r\n");
      out.write("                                    type=\"text/css\" />\r\n");
      out.write("\r\n");
      out.write("                                <style>\r\n");
      out.write("                                    /* CSS cho phần lọc nhà cung cấp */\r\n");
      out.write("                                    .filter-panel {\r\n");
      out.write("                                        background-color: #f9f9f9;\r\n");
      out.write("                                        border-radius: 5px;\r\n");
      out.write("                                        padding: 15px;\r\n");
      out.write("                                        margin-bottom: 15px;\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    .filter-panel .form-control {\r\n");
      out.write("                                        border-radius: 4px;\r\n");
      out.write("                                        border: 1px solid #ccc;\r\n");
      out.write("                                        transition: border-color 0.3s ease;\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    .filter-panel .btn {\r\n");
      out.write("                                        border-radius: 4px;\r\n");
      out.write("                                        transition: all 0.3s ease;\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    .filter-panel .btn:hover {\r\n");
      out.write("                                        transform: translateY(-1px);\r\n");
      out.write("                                        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    .filter-panel .form-control:focus {\r\n");
      out.write("                                        border-color: #3c8dbc;\r\n");
      out.write("                                        box-shadow: 0 0 5px rgba(60, 141, 188, 0.3);\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    .filter-panel label {\r\n");
      out.write("                                        font-weight: bold;\r\n");
      out.write("                                        color: #333;\r\n");
      out.write("                                        margin-bottom: 5px;\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    .filter-panel .btn-warning {\r\n");
      out.write("                                        background-color: #f0ad4e;\r\n");
      out.write("                                        border-color: #eea236;\r\n");
      out.write("                                        color: #fff;\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    .filter-panel .btn-warning:hover {\r\n");
      out.write("                                        background-color: #ec971f;\r\n");
      out.write("                                        border-color: #d58512;\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    /* Responsive cho filter panel */\r\n");
      out.write("                                    @media (max-width: 768px) {\r\n");
      out.write("\r\n");
      out.write("                                        .filter-panel .col-md-3,\r\n");
      out.write("                                        .filter-panel .col-md-2 {\r\n");
      out.write("                                            margin-bottom: 10px;\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    @media (max-width: 992px) {\r\n");
      out.write("                                        .filter-panel .col-md-3 {\r\n");
      out.write("                                            margin-bottom: 10px;\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("                                </style>\r\n");
      out.write("                            </head>\r\n");
      out.write("\r\n");
      out.write("                            <body class=\"skin-black\">\r\n");
      out.write("                                <header class=\"header\">\r\n");
      out.write("                                    <a href=\"supplier\" class=\"logo\">\r\n");
      out.write("                                        Quản lý nhà cung cấp\r\n");
      out.write("                                    </a>\r\n");
      out.write("                                    <nav class=\"navbar navbar-static-top\" role=\"navigation\">\r\n");
      out.write("                                        <a href=\"#\" class=\"navbar-btn sidebar-toggle\" data-toggle=\"offcanvas\"\r\n");
      out.write("                                            role=\"button\">\r\n");
      out.write("                                            <span class=\"sr-only\">Toggle navigation</span>\r\n");
      out.write("                                            <span class=\"icon-bar\"></span>\r\n");
      out.write("                                            <span class=\"icon-bar\"></span>\r\n");
      out.write("                                            <span class=\"icon-bar\"></span>\r\n");
      out.write("                                        </a>\r\n");
      out.write("                                        <div class=\"navbar-right\">\r\n");
      out.write("                                            <ul class=\"nav navbar-nav\">\r\n");
      out.write("                                                <!-- User Account: style can be found in dropdown.less -->\r\n");
      out.write("                                                <li class=\"dropdown user user-menu\">\r\n");
      out.write("                                                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\r\n");
      out.write("                                                        <i class=\"fa fa-user\"></i>\r\n");
      out.write("                                                        <span>\r\n");
      out.write("                                                            ");
      out.print( username );
      out.write(" <i class=\"caret\"></i>\r\n");
      out.write("                                                        </span>\r\n");
      out.write("                                                    </a>\r\n");
      out.write("                                                    <ul class=\"dropdown-menu dropdown-custom dropdown-menu-right\">\r\n");
      out.write("                                                        <li class=\"dropdown-header text-center\">Tài khoản</li>\r\n");
      out.write("                                                        <li>\r\n");
      out.write("                                                            <a href=\"profile.jsp\">\r\n");
      out.write("                                                                <i class=\"fa fa-user fa-fw pull-right\"></i>\r\n");
      out.write("                                                                Hồ sơ\r\n");
      out.write("                                                            </a>\r\n");
      out.write("                                                            <a href=\"settings.jsp\">\r\n");
      out.write("                                                                <i class=\"fa fa-cog fa-fw pull-right\"></i>\r\n");
      out.write("                                                                Cài đặt\r\n");
      out.write("                                                            </a>\r\n");
      out.write("                                                        </li>\r\n");
      out.write("                                                        <li class=\"divider\"></li>\r\n");
      out.write("                                                        <li>\r\n");
      out.write("                                                            <a href=\"");
      out.print(request.getContextPath());
      out.write("/logout\"><i\r\n");
      out.write("                                                                    class=\"fa fa-ban fa-fw pull-right\"></i> Đăng\r\n");
      out.write("                                                                xuất</a>\r\n");
      out.write("                                                        </li>\r\n");
      out.write("                                                    </ul>\r\n");
      out.write("                                                </li>\r\n");
      out.write("                                            </ul>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </nav>\r\n");
      out.write("                                </header>\r\n");
      out.write("                                <div class=\"wrapper row-offcanvas row-offcanvas-left\">\r\n");
      out.write("                                    <!-- Left side column. contains the logo and sidebar -->\r\n");
      out.write("                                    ");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "partials/sidebar.jsp", out, false);
      out.write("\r\n");
      out.write("                                    <aside class=\"right-side\">\r\n");
      out.write("                                        <section class=\"content\">\r\n");
      out.write("                                            ");
 String message=request.getParameter("message"); String
                                                error=request.getParameter("error"); String
                                                validationError=request.getParameter("validation_error"); String
                                                databaseError=request.getParameter("database_error"); String
                                                systemError=request.getParameter("system_error"); if
                                                ("success".equals(message)) { 
      out.write("\r\n");
      out.write("                                                <div class=\"alert alert-success alert-dismissible\">\r\n");
      out.write("                                                    <button type=\"button\" class=\"close\" data-dismiss=\"alert\"\r\n");
      out.write("                                                        aria-label=\"Close\">\r\n");
      out.write("                                                        <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("                                                    </button>\r\n");
      out.write("                                                    <i class=\"fa fa-check-circle\"></i> <strong>Thành công!</strong> Thêm\r\n");
      out.write("                                                    nhà cung cấp thành công.\r\n");
      out.write("                                                </div>\r\n");
      out.write("                                                ");
 } else if ("update_success".equals(message)) { 
      out.write("\r\n");
      out.write("                                                    <div class=\"alert alert-success alert-dismissible\">\r\n");
      out.write("                                                        <button type=\"button\" class=\"close\" data-dismiss=\"alert\"\r\n");
      out.write("                                                            aria-label=\"Close\">\r\n");
      out.write("                                                            <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("                                                        </button>\r\n");
      out.write("                                                        <i class=\"fa fa-check-circle\"></i> <strong>Thành công!</strong>\r\n");
      out.write("                                                        Cập nhật nhà cung cấp thành công.\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                    ");
 } else if ("delete_success".equals(message)) { 
      out.write("\r\n");
      out.write("                                                        <div class=\"alert alert-success alert-dismissible\">\r\n");
      out.write("                                                            <button type=\"button\" class=\"close\" data-dismiss=\"alert\"\r\n");
      out.write("                                                                aria-label=\"Close\">\r\n");
      out.write("                                                                <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("                                                            </button>\r\n");
      out.write("                                                            <i class=\"fa fa-check-circle\"></i> <strong>Thành\r\n");
      out.write("                                                                công!</strong> Xóa nhà cung cấp thành công.\r\n");
      out.write("                                                        </div>\r\n");
      out.write("                                                        ");
 } else if ("validation_error".equals(message)) { 
      out.write("\r\n");
      out.write("                                                            <div class=\"alert alert-warning alert-dismissible\">\r\n");
      out.write("                                                                <button type=\"button\" class=\"close\" data-dismiss=\"alert\"\r\n");
      out.write("                                                                    aria-label=\"Close\">\r\n");
      out.write("                                                                    <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("                                                                </button>\r\n");
      out.write("                                                                <i class=\"fa fa-exclamation-triangle\"></i> <strong>Lỗi\r\n");
      out.write("                                                                    xác thực dữ liệu:</strong><br>\r\n");
      out.write("                                                                ");
      out.print( error !=null ? error : "Dữ liệu không hợp lệ" );
      out.write("\r\n");
      out.write("                                                            </div>\r\n");
      out.write("                                                            ");
 } else if ("database_error".equals(message)) { 
      out.write("\r\n");
      out.write("                                                                <div class=\"alert alert-danger alert-dismissible\">\r\n");
      out.write("                                                                    <button type=\"button\" class=\"close\"\r\n");
      out.write("                                                                        data-dismiss=\"alert\" aria-label=\"Close\">\r\n");
      out.write("                                                                        <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("                                                                    </button>\r\n");
      out.write("                                                                    <i class=\"fa fa-database\"></i> <strong>Lỗi cơ sở dữ\r\n");
      out.write("                                                                        liệu:</strong><br>\r\n");
      out.write("                                                                    ");
      out.print( error !=null ? error : "Lỗi không xác định" );
      out.write("\r\n");
      out.write("                                                                </div>\r\n");
      out.write("                                                                ");
 } else if ("system_error".equals(message)) { 
      out.write("\r\n");
      out.write("                                                                    <div class=\"alert alert-danger alert-dismissible\">\r\n");
      out.write("                                                                        <button type=\"button\" class=\"close\"\r\n");
      out.write("                                                                            data-dismiss=\"alert\" aria-label=\"Close\">\r\n");
      out.write("                                                                            <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("                                                                        </button>\r\n");
      out.write("                                                                        <i class=\"fa fa-exclamation-circle\"></i>\r\n");
      out.write("                                                                        <strong>Lỗi hệ thống:</strong><br>\r\n");
      out.write("                                                                        ");
      out.print( error !=null ? error : "Lỗi không xác định"
                                                                            );
      out.write("\r\n");
      out.write("                                                                    </div>\r\n");
      out.write("                                                                    ");
 } else if (error !=null &&
                                                                        !error.trim().isEmpty()) { 
      out.write("\r\n");
      out.write("                                                                        <div\r\n");
      out.write("                                                                            class=\"alert alert-danger alert-dismissible\">\r\n");
      out.write("                                                                            <button type=\"button\" class=\"close\"\r\n");
      out.write("                                                                                data-dismiss=\"alert\" aria-label=\"Close\">\r\n");
      out.write("                                                                                <span aria-hidden=\"true\">&times;</span>\r\n");
      out.write("                                                                            </button>\r\n");
      out.write("                                                                            <i class=\"fa fa-times-circle\"></i>\r\n");
      out.write("                                                                            <strong>Lỗi:</strong>\r\n");
      out.write("                                                                            ");
      out.print( error );
      out.write("\r\n");
      out.write("                                                                        </div>\r\n");
      out.write("                                                                        ");
 } 
      out.write("\r\n");
      out.write("\r\n");
      out.write("                                                                            <div class=\"panel\">\r\n");
      out.write("                                                                                <header class=\"panel-heading\">\r\n");
      out.write("                                                                                    <h3>Danh sách nhà cung cấp</h3>\r\n");
      out.write("                                                                                </header>\r\n");
      out.write("                                                                                <div\r\n");
      out.write("                                                                                    class=\"panel-body table-responsive\">\r\n");
      out.write("                                                                                    <button\r\n");
      out.write("                                                                                        class=\"btn btn-primary btn-sm\"\r\n");
      out.write("                                                                                        data-toggle=\"modal\"\r\n");
      out.write("                                                                                        data-target=\"#addSupplierModal\"\r\n");
      out.write("                                                                                        style=\"margin-bottom:12px;\">\r\n");
      out.write("                                                                                        <i class=\"fa fa-plus\"></i> Thêm\r\n");
      out.write("                                                                                        nhà cung cấp\r\n");
      out.write("                                                                                    </button>\r\n");
      out.write("\r\n");
      out.write("                                                                                    <!-- Phần lọc nhà cung cấp -->\r\n");
      out.write("                                                                                    <div\r\n");
      out.write("                                                                                        class=\"panel-body filter-panel\">\r\n");
      out.write("                                                                                        <form id=\"filterForm\" method=\"GET\" action=\"");
      out.print(request.getContextPath());
      out.write("/supplier\">\r\n");
      out.write("                                                                                            <div class=\"row\">\r\n");
      out.write("                                                                                                <div class=\"col-md-12\">\r\n");
      out.write("                                                                                                    <div class=\"row\">\r\n");
      out.write("                                                                                                        <!-- Lọc theo tên công ty -->\r\n");
      out.write("                                                                                                        <div\r\n");
      out.write("                                                                                                            class=\"col-md-3\">\r\n");
      out.write("                                                                                                            <div\r\n");
      out.write("                                                                                                                class=\"form-group\">\r\n");
      out.write("                                                                                                                <label\r\n");
      out.write("                                                                                                                    for=\"companyFilter\"\r\n");
      out.write("                                                                                                                    style=\"font-weight: bold; margin-bottom: 5px;\">Nhà\r\n");
      out.write("                                                                                                                    cung\r\n");
      out.write("                                                                                                                    cấp:</label>\r\n");
      out.write("                                                                                                                <select\r\n");
      out.write("                                                                                                                    id=\"companyFilter\"\r\n");
      out.write("                                                                                                                    name=\"companyFilter\"\r\n");
      out.write("                                                                                                                    class=\"form-control\"\r\n");
      out.write("                                                                                                                    title=\"Chọn nhà cung cấp để lọc\">\r\n");
      out.write("                                                                                                                    <option\r\n");
      out.write("                                                                                                                        value=\"\">\r\n");
      out.write("                                                                                                                        Tất\r\n");
      out.write("                                                                                                                        cả\r\n");
      out.write("                                                                                                                        nhà\r\n");
      out.write("                                                                                                                        cung\r\n");
      out.write("                                                                                                                        cấp\r\n");
      out.write("                                                                                                                    </option>\r\n");
      out.write("                                                                                                                </select>\r\n");
      out.write("                                                                                                            </div>\r\n");
      out.write("                                                                                                        </div>\r\n");
      out.write("\r\n");
      out.write("                                                                                                        <!-- Lọc theo người liên hệ -->\r\n");
      out.write("                                                                                                        <div\r\n");
      out.write("                                                                                                            class=\"col-md-3\">\r\n");
      out.write("                                                                                                            <div\r\n");
      out.write("                                                                                                                class=\"form-group\">\r\n");
      out.write("                                                                                                                <label\r\n");
      out.write("                                                                                                                    for=\"contactFilter\"\r\n");
      out.write("                                                                                                                    style=\"font-weight: bold; margin-bottom: 5px;\">Người\r\n");
      out.write("                                                                                                                    liên\r\n");
      out.write("                                                                                                                    hệ:</label>\r\n");
      out.write("                                                                                                                <select\r\n");
      out.write("                                                                                                                    id=\"contactFilter\"\r\n");
      out.write("                                                                                                                    name=\"contactFilter\"\r\n");
      out.write("                                                                                                                    class=\"form-control\"\r\n");
      out.write("                                                                                                                    title=\"Chọn người liên hệ để lọc\">\r\n");
      out.write("                                                                                                                    <option\r\n");
      out.write("                                                                                                                        value=\"\">\r\n");
      out.write("                                                                                                                        Tất\r\n");
      out.write("                                                                                                                        cả\r\n");
      out.write("                                                                                                                        người\r\n");
      out.write("                                                                                                                        liên\r\n");
      out.write("                                                                                                                        hệ\r\n");
      out.write("                                                                                                                    </option>\r\n");
      out.write("                                                                                                                </select>\r\n");
      out.write("                                                                                                            </div>\r\n");
      out.write("                                                                                                        </div>\r\n");
      out.write("\r\n");
      out.write("                                                                                                        <!-- Lọc theo trạng thái -->\r\n");
      out.write("                                                                                                        <div\r\n");
      out.write("                                                                                                            class=\"col-md-2\">\r\n");
      out.write("                                                                                                            <div\r\n");
      out.write("                                                                                                                class=\"form-group\">\r\n");
      out.write("                                                                                                                <label\r\n");
      out.write("                                                                                                                    for=\"statusFilter\"\r\n");
      out.write("                                                                                                                    style=\"font-weight: bold; margin-bottom: 5px;\">Trạng\r\n");
      out.write("                                                                                                                    thái:</label>\r\n");
      out.write("                                                                                                                <select\r\n");
      out.write("                                                                                                                    id=\"statusFilter\"\r\n");
      out.write("                                                                                                                    name=\"statusFilter\"\r\n");
      out.write("                                                                                                                    class=\"form-control\">\r\n");
      out.write("                                                                                                                    <option\r\n");
      out.write("                                                                                                                        value=\"\">\r\n");
      out.write("                                                                                                                        Tất\r\n");
      out.write("                                                                                                                        cả\r\n");
      out.write("                                                                                                                        trạng\r\n");
      out.write("                                                                                                                        thái\r\n");
      out.write("                                                                                                                    </option>\r\n");
      out.write("                                                                                                                    <option\r\n");
      out.write("                                                                                                                        value=\"active\"\r\n");
      out.write("                                                                                                                        ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statusFilter\r\n                                                                                                                        eq 'active'\r\n                                                                                                                        ? 'selected'\r\n                                                                                                                        : ''\r\n                                                                                                                        }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write(">\r\n");
      out.write("                                                                                                                        Hoạt\r\n");
      out.write("                                                                                                                        động\r\n");
      out.write("                                                                                                                    </option>\r\n");
      out.write("                                                                                                                    <option\r\n");
      out.write("                                                                                                                        value=\"inactive\"\r\n");
      out.write("                                                                                                                        ");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${statusFilter\r\n                                                                                                                        eq 'inactive'\r\n                                                                                                                        ? 'selected'\r\n                                                                                                                        : ''\r\n                                                                                                                        }", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write(">\r\n");
      out.write("                                                                                                                        Tạm\r\n");
      out.write("                                                                                                                        ẩn\r\n");
      out.write("                                                                                                                    </option>\r\n");
      out.write("                                                                                                                </select>\r\n");
      out.write("                                                                                                            </div>\r\n");
      out.write("                                                                                                        </div>\r\n");
      out.write("\r\n");
      out.write("                                                                                                        <!-- Tìm kiếm tổng quát -->\r\n");
      out.write("                                                                                                        <div\r\n");
      out.write("                                                                                                            class=\"col-md-2\">\r\n");
      out.write("                                                                                                            <div\r\n");
      out.write("                                                                                                                class=\"form-group\">\r\n");
      out.write("                                                                                                                <label\r\n");
      out.write("                                                                                                                    for=\"searchInput\"\r\n");
      out.write("                                                                                                                    style=\"font-weight: bold; margin-bottom: 5px;\">Tìm\r\n");
      out.write("                                                                                                                    kiếm:</label>\r\n");
      out.write("                                                                                                                <input\r\n");
      out.write("                                                                                                                    type=\"text\"\r\n");
      out.write("                                                                                                                    id=\"searchInput\"\r\n");
      out.write("                                                                                                                    name=\"searchInput\"\r\n");
      out.write("                                                                                                                    class=\"form-control\"\r\n");
      out.write("                                                                                                                    placeholder=\"Tìm theo mã, tên, liên hệ, email, SĐT, địa chỉ...\"\r\n");
      out.write("                                                                                                                    value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${searchInput}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("\"\r\n");
      out.write("                                                                                                                    onkeypress=\"if(event.key==='Enter') document.getElementById('filterForm').submit();\"\r\n");
      out.write("                                                                                                                    title=\"Tìm kiếm trong tất cả các trường: mã NCC, tên công ty, người liên hệ, email, số điện thoại, địa chỉ, thông tin ngân hàng\">\r\n");
      out.write("                                                                                                            </div>\r\n");
      out.write("                                                                                                        </div>\r\n");
      out.write("\r\n");
      out.write("                                                                                                        <!-- Nút lọc -->\r\n");
      out.write("                                                                                                        <div\r\n");
      out.write("                                                                                                            class=\"col-md-1\">\r\n");
      out.write("                                                                                                            <div\r\n");
      out.write("                                                                                                                class=\"form-group\">\r\n");
      out.write("                                                                                                                <label\r\n");
      out.write("                                                                                                                    style=\"color: transparent; margin-bottom: 5px;\">Lọc</label>\r\n");
      out.write("                                                                                                                <button\r\n");
      out.write("                                                                                                                    type=\"submit\"\r\n");
      out.write("                                                                                                                    class=\"btn btn-primary btn-sm\"\r\n");
      out.write("                                                                                                                    style=\"width: 100%;\"\r\n");
      out.write("                                                                                                                    title=\"Áp dụng bộ lọc\">\r\n");
      out.write("                                                                                                                    <i\r\n");
      out.write("                                                                                                                        class=\"fa fa-search\"></i>\r\n");
      out.write("                                                                                                                </button>\r\n");
      out.write("                                                                                                            </div>\r\n");
      out.write("                                                                                                        </div>\r\n");
      out.write("\r\n");
      out.write("                                                                                                        <!-- Nút reset -->\r\n");
      out.write("                                                                                                        <div\r\n");
      out.write("                                                                                                            class=\"col-md-1\">\r\n");
      out.write("                                                                                                            <div\r\n");
      out.write("                                                                                                                class=\"form-group\">\r\n");
      out.write("                                                                                                                <label\r\n");
      out.write("                                                                                                                    style=\"color: transparent; margin-bottom: 5px;\">Reset</label>\r\n");
      out.write("                                                                                                                <button\r\n");
      out.write("                                                                                                                    type=\"button\"\r\n");
      out.write("                                                                                                                    class=\"btn btn-warning btn-sm\"\r\n");
      out.write("                                                                                                                    style=\"width: 100%;\"\r\n");
      out.write("                                                                                                                    onclick=\"resetFilters()\"\r\n");
      out.write("                                                                                                                    title=\"Xóa tất cả bộ lọc\">\r\n");
      out.write("                                                                                                                    <i\r\n");
      out.write("                                                                                                                        class=\"fa fa-refresh\"></i>\r\n");
      out.write("                                                                                                                </button>\r\n");
      out.write("                                                                                                            </div>\r\n");
      out.write("                                                                                                        </div>\r\n");
      out.write("                                                                                                    </div>\r\n");
      out.write("                                                                                                </div>\r\n");
      out.write("                                                                                            </div>\r\n");
      out.write("                                                                                        </form>\r\n");
      out.write("                                                                                    </div>\r\n");
      out.write("\r\n");
      out.write("                                                                                    <table class=\"table table-hover\"\r\n");
      out.write("                                                                                        id=\"suppliersTable\">\r\n");
      out.write("                                                                                        <thead>\r\n");
      out.write("                                                                                            <tr>\r\n");
      out.write("                                                                                                <th>ID</th>\r\n");
      out.write("                                                                                                <th>Mã NCC</th>\r\n");
      out.write("                                                                                                <th>Tên công ty</th>\r\n");
      out.write("                                                                                                <th>Liên hệ</th>\r\n");
      out.write("                                                                                                <th>Email</th>\r\n");
      out.write("                                                                                                <th>Điện thoại</th>\r\n");
      out.write("                                                                                                <th>Trạng thái</th>\r\n");
      out.write("                                                                                                <th>Thao tác</th>\r\n");
      out.write("                                                                                            </tr>\r\n");
      out.write("                                                                                        </thead>\r\n");
      out.write("                                                                                        <tbody>\r\n");
      out.write("                                                                                            ");
      if (_jspx_meth_c_005fchoose_005f0(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("                                                                                        </tbody>\r\n");
      out.write("                                                                                    </table>\r\n");
      out.write("\r\n");
      out.write("                                                                                    <!-- Phân trang -->\r\n");
      out.write("                                                                                    <div class=\"row\"\r\n");
      out.write("                                                                                        style=\"margin-top: 20px;\">\r\n");
      out.write("                                                                                        <div class=\"col-md-8\">\r\n");
      out.write("                                                                                            <div class=\"dataTables_info\"\r\n");
      out.write("                                                                                                id=\"suppliersTable_info\"\r\n");
      out.write("                                                                                                role=\"status\"\r\n");
      out.write("                                                                                                aria-live=\"polite\">\r\n");
      out.write("                                                                                                Hiển thị <span\r\n");
      out.write("                                                                                                    id=\"showingStart\">1</span>\r\n");
      out.write("                                                                                                đến <span\r\n");
      out.write("                                                                                                    id=\"showingEnd\">10</span>\r\n");
      out.write("                                                                                                trong tổng số <span\r\n");
      out.write("                                                                                                    id=\"totalRecords\">0</span>\r\n");
      out.write("                                                                                                bản ghi\r\n");
      out.write("                                                                                            </div>\r\n");
      out.write("                                                                                        </div>\r\n");
      out.write("                                                                                        <div class=\"col-md-4\">\r\n");
      out.write("                                                                                            <div class=\"dataTables_paginate paging_simple_numbers\"\r\n");
      out.write("                                                                                                id=\"suppliersTable_paginate\"\r\n");
      out.write("                                                                                                style=\"text-align: right;\">\r\n");
      out.write("                                                                                                <ul class=\"pagination\"\r\n");
      out.write("                                                                                                    id=\"pagination\">\r\n");
      out.write("                                                                                                    <!-- Nút Previous -->\r\n");
      out.write("                                                                                                    <li class=\"paginate_button previous disabled\"\r\n");
      out.write("                                                                                                        id=\"suppliersTable_previous\">\r\n");
      out.write("                                                                                                        <a href=\"#\"\r\n");
      out.write("                                                                                                            aria-controls=\"suppliersTable\"\r\n");
      out.write("                                                                                                            data-dt-idx=\"0\"\r\n");
      out.write("                                                                                                            tabindex=\"0\"\r\n");
      out.write("                                                                                                            id=\"prevBtn\">Trước</a>\r\n");
      out.write("                                                                                                    </li>\r\n");
      out.write("\r\n");
      out.write("                                                                                                    <!-- Các nút số trang sẽ được tạo bằng JavaScript -->\r\n");
      out.write("                                                                                                    <li\r\n");
      out.write("                                                                                                        class=\"paginate_button active\">\r\n");
      out.write("                                                                                                        <a href=\"#\"\r\n");
      out.write("                                                                                                            aria-controls=\"suppliersTable\"\r\n");
      out.write("                                                                                                            data-dt-idx=\"1\"\r\n");
      out.write("                                                                                                            tabindex=\"0\"\r\n");
      out.write("                                                                                                            class=\"page-link\"\r\n");
      out.write("                                                                                                            data-page=\"1\">1</a>\r\n");
      out.write("                                                                                                    </li>\r\n");
      out.write("\r\n");
      out.write("                                                                                                    <!-- Nút Next -->\r\n");
      out.write("                                                                                                    <li class=\"paginate_button next\"\r\n");
      out.write("                                                                                                        id=\"suppliersTable_next\">\r\n");
      out.write("                                                                                                        <a href=\"#\"\r\n");
      out.write("                                                                                                            aria-controls=\"suppliersTable\"\r\n");
      out.write("                                                                                                            data-dt-idx=\"2\"\r\n");
      out.write("                                                                                                            tabindex=\"0\"\r\n");
      out.write("                                                                                                            id=\"nextBtn\">Tiếp</a>\r\n");
      out.write("                                                                                                    </li>\r\n");
      out.write("                                                                                                </ul>\r\n");
      out.write("                                                                                            </div>\r\n");
      out.write("                                                                                        </div>\r\n");
      out.write("                                                                                    </div>\r\n");
      out.write("                                                                                </div>\r\n");
      out.write("                                                                            </div>\r\n");
      out.write("                                        </section><!-- /.content -->\r\n");
      out.write("\r\n");
      out.write("                                    </aside><!-- /.right-side -->\r\n");
      out.write("                                </div><!-- ./wrapper -->\r\n");
      out.write("                                <!-- Modal thêm nhà cung cấp -->\r\n");
      out.write("                                <div class=\"modal fade\" id=\"addSupplierModal\" tabindex=\"-1\" role=\"dialog\"\r\n");
      out.write("                                    aria-labelledby=\"addSupplierModalLabel\">\r\n");
      out.write("                                    <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("                                        <div class=\"modal-content\">\r\n");
      out.write("                                            <div class=\"modal-header\">\r\n");
      out.write("                                                <button type=\"button\" class=\"close\" data-dismiss=\"modal\"\r\n");
      out.write("                                                    aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\r\n");
      out.write("                                                <h4 class=\"modal-title\" id=\"addSupplierModalLabel\">Thêm nhà cung cấp\r\n");
      out.write("                                                </h4>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"modal-body\">\r\n");
      out.write("                                                <form id=\"addSupplierForm\" action=\"");
      out.print(request.getContextPath());
      out.write("/supplier\" method=\"post\">\r\n");
      out.write("                                                    <input type=\"hidden\" name=\"action\" value=\"add\">\r\n");
      out.write("                                                    <div class=\"form-group\">\r\n");
      out.write("                                                        <label>Mã NCC</label>\r\n");
      out.write("                                                        <input name=\"supplier_code\" id=\"add_supplier_code\"\r\n");
      out.write("                                                            class=\"form-control\" required readonly\r\n");
      out.write("                                                            style=\"background-color: #f5f5f5;\">\r\n");
      out.write("                                                        <small class=\"form-text text-muted\"\r\n");
      out.write("                                                            id=\"supplier_code_feedback\">Mã nhà cung cấp sẽ được tạo tự\r\n");
      out.write("                                                            động</small>\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Tên công ty</label><input\r\n");
      out.write("                                                            name=\"company_name\" class=\"form-control\" required></div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Người liên hệ</label><input\r\n");
      out.write("                                                            name=\"contact_person\" class=\"form-control\" required></div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Email</label><input type=\"email\"\r\n");
      out.write("                                                            name=\"email\" class=\"form-control\" required></div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Điện thoại</label><input name=\"phone\"\r\n");
      out.write("                                                            class=\"form-control\" required></div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Địa chỉ</label>\r\n");
      out.write("                                                        <textarea name=\"address\" id=\"add_address\" class=\"form-control\"\r\n");
      out.write("                                                            rows=\"2\" required\r\n");
      out.write("                                                            oninput=\"updateWordCounterGeneric(this, 'add_address_counter', 50)\"></textarea>\r\n");
      out.write("                                                        <small class=\"form-text text-muted\"><span\r\n");
      out.write("                                                                id=\"add_address_counter\" style=\"color:#5cb85c;\">0</span>\r\n");
      out.write("                                                            / 50 từ</small>\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                    <div class=\"form-group\">\r\n");
      out.write("                                                        <label>Thông tin ngân hàng</label>\r\n");
      out.write("                                                        <div class=\"row\">\r\n");
      out.write("                                                            <div class=\"col-md-6\">\r\n");
      out.write("                                                                <input name=\"bank_name\" id=\"add_bank_name\"\r\n");
      out.write("                                                                    class=\"form-control\" placeholder=\"Tên ngân hàng\"\r\n");
      out.write("                                                                    pattern=\"[A-Za-zÀ-ỹ\\s]+\"\r\n");
      out.write("                                                                    title=\"Chỉ được nhập chữ cái và khoảng trắng\">\r\n");
      out.write("                                                                <small class=\"form-text text-muted\">Chỉ nhập chữ\r\n");
      out.write("                                                                    cái</small>\r\n");
      out.write("                                                            </div>\r\n");
      out.write("                                                            <div class=\"col-md-6\">\r\n");
      out.write("                                                                <input name=\"account_number\" id=\"add_account_number\"\r\n");
      out.write("                                                                    class=\"form-control\" placeholder=\"Số tài khoản\"\r\n");
      out.write("                                                                    pattern=\"[0-9]+\" title=\"Chỉ được nhập số\">\r\n");
      out.write("                                                                <small class=\"form-text text-muted\">Chỉ nhập số</small>\r\n");
      out.write("                                                            </div>\r\n");
      out.write("                                                        </div>\r\n");
      out.write("                                                        <input type=\"hidden\" name=\"bank_info\" id=\"add_bank_info\">\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Trạng thái</label>\r\n");
      out.write("                                                        <select class=\"form-control\" name=\"status\">\r\n");
      out.write("                                                            <option value=\"active\" selected>Hoạt động</option>\r\n");
      out.write("                                                            <option value=\"inactive\">Không hoạt động</option>\r\n");
      out.write("                                                        </select>\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                </form>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"modal-footer\">\r\n");
      out.write("                                                <button type=\"button\" class=\"btn btn-default\"\r\n");
      out.write("                                                    data-dismiss=\"modal\">Hủy</button>\r\n");
      out.write("                                                <button type=\"submit\" class=\"btn btn-primary\"\r\n");
      out.write("                                                    form=\"addSupplierForm\">Lưu</button>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("\r\n");
      out.write("                                <!-- Modal xem/sửa nhà cung cấp -->\r\n");
      out.write("                                <div class=\"modal fade\" id=\"editSupplierModal\" tabindex=\"-1\" role=\"dialog\">\r\n");
      out.write("                                    <div class=\"modal-dialog\" role=\"document\">\r\n");
      out.write("                                        <div class=\"modal-content\">\r\n");
      out.write("                                            <div class=\"modal-header\">\r\n");
      out.write("                                                <button type=\"button\" class=\"close\"\r\n");
      out.write("                                                    data-dismiss=\"modal\">&times;</button>\r\n");
      out.write("                                                <h4 class=\"modal-title\">Sửa nhà cung cấp</h4>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"modal-body\">\r\n");
      out.write("                                                <form id=\"editSupplierForm\" action=\"");
      out.print(request.getContextPath());
      out.write("/supplier\" method=\"post\">\r\n");
      out.write("                                                    <input type=\"hidden\" name=\"action\" value=\"update\">\r\n");
      out.write("                                                    <input type=\"hidden\" name=\"id\" id=\"edit_supplier_id\">\r\n");
      out.write("                                                    <div class=\"form-group\">\r\n");
      out.write("                                                        <label>Mã NCC</label>\r\n");
      out.write("                                                        <input name=\"supplier_code\" id=\"edit_supplier_code\"\r\n");
      out.write("                                                            class=\"form-control\" required readonly\r\n");
      out.write("                                                            style=\"background-color: #f5f5f5;\">\r\n");
      out.write("                                                        <small class=\"form-text text-muted\">Mã nhà cung cấp không thể\r\n");
      out.write("                                                            thay đổi</small>\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                    <div class=\"form-group\">\r\n");
      out.write("                                                        <label>Tên công ty</label>\r\n");
      out.write("                                                        <input name=\"company_name\" id=\"edit_company_name\"\r\n");
      out.write("                                                            class=\"form-control\" required readonly\r\n");
      out.write("                                                            style=\"background-color: #f5f5f5;\">\r\n");
      out.write("                                                        <small class=\"form-text text-muted\">Tên công ty không thể thay\r\n");
      out.write("                                                            đổi</small>\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Người liên hệ</label><input\r\n");
      out.write("                                                            name=\"contact_person\" id=\"edit_contact_person\"\r\n");
      out.write("                                                            class=\"form-control\" required></div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Email</label><input type=\"email\"\r\n");
      out.write("                                                            name=\"email\" id=\"edit_email\" class=\"form-control\" required>\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Điện thoại</label><input name=\"phone\"\r\n");
      out.write("                                                            id=\"edit_phone\" class=\"form-control\" required></div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Địa chỉ</label>\r\n");
      out.write("                                                        <textarea name=\"address\" id=\"edit_address\" class=\"form-control\"\r\n");
      out.write("                                                            rows=\"2\" required\r\n");
      out.write("                                                            oninput=\"updateWordCounterGeneric(this, 'edit_address_counter', 50)\"></textarea>\r\n");
      out.write("                                                        <small class=\"form-text text-muted\"><span\r\n");
      out.write("                                                                id=\"edit_address_counter\"\r\n");
      out.write("                                                                style=\"color:#5cb85c;\">0</span> / 50 từ</small>\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                    <div class=\"form-group\">\r\n");
      out.write("                                                        <label>Thông tin ngân hàng</label>\r\n");
      out.write("                                                        <div class=\"row\">\r\n");
      out.write("                                                            <div class=\"col-md-6\">\r\n");
      out.write("                                                                <input name=\"bank_name\" id=\"edit_bank_name\"\r\n");
      out.write("                                                                    class=\"form-control\" placeholder=\"Tên ngân hàng\"\r\n");
      out.write("                                                                    pattern=\"[A-Za-zÀ-ỹ\\s]+\"\r\n");
      out.write("                                                                    title=\"Chỉ được nhập chữ cái và khoảng trắng\">\r\n");
      out.write("                                                                <small class=\"form-text text-muted\">Chỉ nhập chữ\r\n");
      out.write("                                                                    cái</small>\r\n");
      out.write("                                                            </div>\r\n");
      out.write("                                                            <div class=\"col-md-6\">\r\n");
      out.write("                                                                <input name=\"account_number\" id=\"edit_account_number\"\r\n");
      out.write("                                                                    class=\"form-control\" placeholder=\"Số tài khoản\"\r\n");
      out.write("                                                                    pattern=\"[0-9]+\" title=\"Chỉ được nhập số\">\r\n");
      out.write("                                                                <small class=\"form-text text-muted\">Chỉ nhập số</small>\r\n");
      out.write("                                                            </div>\r\n");
      out.write("                                                        </div>\r\n");
      out.write("                                                        <input type=\"hidden\" name=\"bank_info\" id=\"edit_bank_info\">\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                    <div class=\"form-group\"><label>Trạng thái</label>\r\n");
      out.write("                                                        <select class=\"form-control\" name=\"status\" id=\"edit_status\">\r\n");
      out.write("                                                            <option value=\"active\">Hoạt động</option>\r\n");
      out.write("                                                            <option value=\"inactive\">Không hoạt động</option>\r\n");
      out.write("                                                        </select>\r\n");
      out.write("                                                    </div>\r\n");
      out.write("                                                </form>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"modal-footer\">\r\n");
      out.write("                                                <button type=\"button\" class=\"btn btn-default\"\r\n");
      out.write("                                                    data-dismiss=\"modal\">Đóng</button>\r\n");
      out.write("                                                <button type=\"submit\" class=\"btn btn-primary\"\r\n");
      out.write("                                                    form=\"editSupplierForm\">Lưu</button>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("\r\n");
      out.write("                                <!-- Modal xem chi tiết nhà cung cấp -->\r\n");
      out.write("                                <div class=\"modal fade\" id=\"viewSupplierModal\" tabindex=\"-1\" role=\"dialog\">\r\n");
      out.write("                                    <div class=\"modal-dialog modal-lg\" role=\"document\">\r\n");
      out.write("                                        <div class=\"modal-content\">\r\n");
      out.write("                                            <div class=\"modal-header\">\r\n");
      out.write("                                                <button type=\"button\" class=\"close\"\r\n");
      out.write("                                                    data-dismiss=\"modal\">&times;</button>\r\n");
      out.write("                                                <h4 class=\"modal-title\">Chi tiết nhà cung cấp</h4>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"modal-body\" id=\"viewSupplierContent\">\r\n");
      out.write("                                                <!-- Nội dung sẽ được load bằng JavaScript -->\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                            <div class=\"modal-footer\">\r\n");
      out.write("                                                <button type=\"button\" class=\"btn btn-default\"\r\n");
      out.write("                                                    data-dismiss=\"modal\">Đóng</button>\r\n");
      out.write("                                            </div>\r\n");
      out.write("                                        </div>\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                </div>\r\n");
      out.write("\r\n");
      out.write("                                <script src=\"http://ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js\"></script>\r\n");
      out.write("                                <script src=\"");
      out.print(request.getContextPath());
      out.write("/js/bootstrap.min.js\"\r\n");
      out.write("                                    type=\"text/javascript\"></script>\r\n");
      out.write("                                <script>\r\n");
      out.write("                                    ");

                                    // Lấy thông tin phân trang từ backend
                                    Integer currentPageInt = (Integer) request.getAttribute("currentPage");
                                    Integer totalCountInt = (Integer) request.getAttribute("totalCount");
                                    Integer totalPagesInt = (Integer) request.getAttribute("totalPages");
                                    int currentPageVal = currentPageInt != null ? currentPageInt : 1;
                                    int totalCountVal = totalCountInt != null ? totalCountInt : 0;
                                    int totalPagesVal = totalPagesInt != null ? totalPagesInt : 1;
                                    
      out.write("\r\n");
      out.write("                                    \r\n");
      out.write("                                    function updateWordCounterGeneric(textarea, counterId, limit) {\r\n");
      out.write("                                        var text = textarea && textarea.value ? textarea.value : '';\r\n");
      out.write("                                        var words = text.trim().length ? text.trim().split(/\\s+/).filter(function (w) { return w.length > 0; }) : [];\r\n");
      out.write("                                        var count = words.length;\r\n");
      out.write("                                        var el = document.getElementById(counterId);\r\n");
      out.write("                                        if (el) {\r\n");
      out.write("                                            el.textContent = count;\r\n");
      out.write("                                            if (count > limit) {\r\n");
      out.write("                                                el.style.color = '#d9534f';\r\n");
      out.write("                                                textarea.style.borderColor = '#d9534f';\r\n");
      out.write("                                            } else {\r\n");
      out.write("                                                el.style.color = '#5cb85c';\r\n");
      out.write("                                                textarea.style.borderColor = '';\r\n");
      out.write("                                            }\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("                                    /**\r\n");
      out.write("                                     * Tạo mã nhà cung cấp tự động\r\n");
      out.write("                                     */\r\n");
      out.write("                                    function generateSupplierCode() {\r\n");
      out.write("                                        $.ajax({\r\n");
      out.write("                                            url: '");
      out.print(request.getContextPath());
      out.write("/supplier',\r\n");
      out.write("                                            type: 'GET',\r\n");
      out.write("                                            data: {\r\n");
      out.write("                                                action: 'generateCode'\r\n");
      out.write("                                            },\r\n");
      out.write("                                            dataType: 'json',\r\n");
      out.write("                                            success: function (response) {\r\n");
      out.write("                                                if (response && response.success && response.supplierCode) {\r\n");
      out.write("                                                    $('#add_supplier_code').val(response.supplierCode);\r\n");
      out.write("                                                    $('#supplier_code_feedback').text('Mã nhà cung cấp đã được tạo tự động').removeClass('text-danger').addClass('text-success');\r\n");
      out.write("                                                    $('#add_supplier_code').removeClass('is-invalid').addClass('is-valid');\r\n");
      out.write("                                                } else {\r\n");
      out.write("                                                    var errorMsg = (response && response.message) ? response.message : 'Không thể tạo mã nhà cung cấp';\r\n");
      out.write("                                                    $('#supplier_code_feedback').text(errorMsg).removeClass('text-success').addClass('text-danger');\r\n");
      out.write("                                                    $('#add_supplier_code').removeClass('is-valid').addClass('is-invalid');\r\n");
      out.write("                                                    console.error('Error generating supplier code:', response);\r\n");
      out.write("                                                }\r\n");
      out.write("                                            },\r\n");
      out.write("                                            error: function (xhr, status, error) {\r\n");
      out.write("                                                $('#supplier_code_feedback').text('Lỗi khi tạo mã nhà cung cấp: ' + error).removeClass('text-success').addClass('text-danger');\r\n");
      out.write("                                                $('#add_supplier_code').removeClass('is-valid').addClass('is-invalid');\r\n");
      out.write("                                                console.error('AJAX error:', status, error, xhr.responseText);\r\n");
      out.write("                                            }\r\n");
      out.write("                                        });\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    // Hàm tạo JSON từ 2 trường bank_name và account_number\r\n");
      out.write("                                    function createBankInfoJson(bankName, accountNumber) {\r\n");
      out.write("                                        var bankNameEscaped = (bankName || '').replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"');\r\n");
      out.write("                                        var accountNumberEscaped = (accountNumber || '').replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"');\r\n");
      out.write("                                        return '{\"bank_name\":\"' + bankNameEscaped + '\",\"account_number\":\"' + accountNumberEscaped + '\"}';\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    // Hàm parse JSON để lấy bank_name và account_number\r\n");
      out.write("                                    function parseBankInfo(bankInfoJson) {\r\n");
      out.write("                                        try {\r\n");
      out.write("                                            var bankInfo = JSON.parse(bankInfoJson || '{}');\r\n");
      out.write("                                            return {\r\n");
      out.write("                                                bankName: bankInfo.bank_name || '',\r\n");
      out.write("                                                accountNumber: bankInfo.account_number || ''\r\n");
      out.write("                                            };\r\n");
      out.write("                                        } catch (e) {\r\n");
      out.write("                                            return { bankName: '', accountNumber: '' };\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    // Xử lý form submit để ghép JSON\r\n");
      out.write("                                    $(document).ready(function () {\r\n");
      out.write("                                        // Tự động tạo mã khi mở modal thêm mới\r\n");
      out.write("                                        $('#addSupplierModal').on('shown.bs.modal', function () {\r\n");
      out.write("                                            generateSupplierCode();\r\n");
      out.write("                                        });\r\n");
      out.write("\r\n");
      out.write("                                        // Reset feedback khi đóng modal thêm\r\n");
      out.write("                                        $('#addSupplierModal').on('hidden.bs.modal', function () {\r\n");
      out.write("                                            $('#supplier_code_feedback').text('Mã nhà cung cấp sẽ được tạo tự động').removeClass('text-danger text-success');\r\n");
      out.write("                                            $('#add_supplier_code').removeClass('is-invalid is-valid').val('');\r\n");
      out.write("                                            $('#addSupplierForm')[0].reset();\r\n");
      out.write("                                        });\r\n");
      out.write("\r\n");
      out.write("                                        // Form thêm mới\r\n");
      out.write("                                        $('#addSupplierForm').on('submit', function (e) {\r\n");
      out.write("                                            // Validation\r\n");
      out.write("                                            var supplierCode = $('input[name=\"supplier_code\"]', this).val().trim();\r\n");
      out.write("                                            var companyName = $('input[name=\"company_name\"]', this).val().trim();\r\n");
      out.write("                                            var contactPerson = $('input[name=\"contact_person\"]', this).val().trim();\r\n");
      out.write("                                            var email = $('input[name=\"email\"]', this).val().trim();\r\n");
      out.write("                                            var phone = $('input[name=\"phone\"]', this).val().trim();\r\n");
      out.write("                                            var address = $('textarea[name=\"address\"]', this).val().trim();\r\n");
      out.write("                                            // Validate địa chỉ tối đa 50 từ\r\n");
      out.write("                                            var addrWords = address.length ? address.split(/\\s+/).filter(function (w) { return w.length > 0; }) : [];\r\n");
      out.write("                                            if (addrWords.length > 50) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Địa chỉ không được vượt quá 50 từ (hiện tại: ' + addrWords.length + ').');\r\n");
      out.write("                                                $('textarea[name=\"address\"]', this)[0].style.borderColor = '#d9534f';\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            // Mã nhà cung cấp sẽ được tự động tạo nếu để trống (xử lý ở backend)\r\n");
      out.write("\r\n");
      out.write("                                            if (!companyName) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Tên công ty không được để trống!');\r\n");
      out.write("                                                $('input[name=\"company_name\"]', this).focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!contactPerson) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Người liên hệ không được để trống!');\r\n");
      out.write("                                                $('input[name=\"contact_person\"]', this).focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!email) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Email không được để trống!');\r\n");
      out.write("                                                $('input[name=\"email\"]', this).focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!phone) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Số điện thoại không được để trống!');\r\n");
      out.write("                                                $('input[name=\"phone\"]', this).focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!address) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Địa chỉ không được để trống!');\r\n");
      out.write("                                                $('textarea[name=\"address\"]', this).focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            var bankName = $('#add_bank_name').val().trim();\r\n");
      out.write("                                            var accountNumber = $('#add_account_number').val().trim();\r\n");
      out.write("\r\n");
      out.write("                                            // Validation tên ngân hàng - chỉ chữ cái\r\n");
      out.write("                                            if (bankName && !/^[A-Za-zÀ-ỹ\\s]+$/.test(bankName)) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Tên ngân hàng chỉ được nhập chữ cái!');\r\n");
      out.write("                                                $('#add_bank_name').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            // Validation số tài khoản - chỉ số\r\n");
      out.write("                                            if (accountNumber && !/^[0-9]+$/.test(accountNumber)) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Số tài khoản chỉ được nhập số!');\r\n");
      out.write("                                                $('#add_account_number').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            $('#add_bank_info').val(createBankInfoJson(bankName, accountNumber));\r\n");
      out.write("                                            return true;\r\n");
      out.write("                                        });\r\n");
      out.write("\r\n");
      out.write("                                        // Form sửa\r\n");
      out.write("                                        $('#editSupplierForm').on('submit', function (e) {\r\n");
      out.write("                                            // Validation\r\n");
      out.write("                                            var supplierCode = $('#edit_supplier_code').val().trim();\r\n");
      out.write("                                            var companyName = $('#edit_company_name').val().trim();\r\n");
      out.write("                                            var contactPerson = $('#edit_contact_person').val().trim();\r\n");
      out.write("                                            var email = $('#edit_email').val().trim();\r\n");
      out.write("                                            var phone = $('#edit_phone').val().trim();\r\n");
      out.write("                                            var address = $('#edit_address').val().trim();\r\n");
      out.write("                                            // Validate địa chỉ tối đa 50 từ\r\n");
      out.write("                                            var addrWords2 = address.length ? address.split(/\\s+/).filter(function (w) { return w.length > 0; }) : [];\r\n");
      out.write("                                            if (addrWords2.length > 50) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Địa chỉ không được vượt quá 50 từ (hiện tại: ' + addrWords2.length + ').');\r\n");
      out.write("                                                document.getElementById('edit_address').style.borderColor = '#d9534f';\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!supplierCode) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Mã nhà cung cấp không được để trống!');\r\n");
      out.write("                                                $('#edit_supplier_code').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!companyName) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Tên công ty không được để trống!');\r\n");
      out.write("                                                $('#edit_company_name').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!contactPerson) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Người liên hệ không được để trống!');\r\n");
      out.write("                                                $('#edit_contact_person').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!email) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Email không được để trống!');\r\n");
      out.write("                                                $('#edit_email').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!phone) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Số điện thoại không được để trống!');\r\n");
      out.write("                                                $('#edit_phone').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            if (!address) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Địa chỉ không được để trống!');\r\n");
      out.write("                                                $('#edit_address').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            var bankName = $('#edit_bank_name').val().trim();\r\n");
      out.write("                                            var accountNumber = $('#edit_account_number').val().trim();\r\n");
      out.write("\r\n");
      out.write("                                            // Validation tên ngân hàng - chỉ chữ cái\r\n");
      out.write("                                            if (bankName && !/^[A-Za-zÀ-ỹ\\s]+$/.test(bankName)) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Tên ngân hàng chỉ được nhập chữ cái!');\r\n");
      out.write("                                                $('#edit_bank_name').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            // Validation số tài khoản - chỉ số\r\n");
      out.write("                                            if (accountNumber && !/^[0-9]+$/.test(accountNumber)) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                alert('Số tài khoản chỉ được nhập số!');\r\n");
      out.write("                                                $('#edit_account_number').focus();\r\n");
      out.write("                                                return false;\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            $('#edit_bank_info').val(createBankInfoJson(bankName, accountNumber));\r\n");
      out.write("                                            return true;\r\n");
      out.write("                                        });\r\n");
      out.write("                                    });\r\n");
      out.write("\r\n");
      out.write("                                    function viewSupplier(element) {\r\n");
      out.write("                                        var id = $(element).data('supplier-id');\r\n");
      out.write("                                        if (!id || id <= 0) {\r\n");
      out.write("                                            alert('ID nhà cung cấp không hợp lệ');\r\n");
      out.write("                                            return;\r\n");
      out.write("                                        }\r\n");
      out.write("\r\n");
      out.write("                                        $.ajax({\r\n");
      out.write("                                            url: '");
      out.print(request.getContextPath());
      out.write("/supplier?action=view&id=' + id,\r\n");
      out.write("                                            type: 'GET',\r\n");
      out.write("                                            dataType: 'json',\r\n");
      out.write("                                            success: function (response) {\r\n");
      out.write("                                                if (response.success) {\r\n");
      out.write("                                                    var supplier = response.data;\r\n");
      out.write("                                                    var bankInfo = parseBankInfo(supplier.bankInfo);\r\n");
      out.write("\r\n");
      out.write("                                                    var content = '<div class=\"row\">' +\r\n");
      out.write("                                                        '<div class=\"col-md-6\">' +\r\n");
      out.write("                                                        '<h5>Thông tin cơ bản</h5>' +\r\n");
      out.write("                                                        '<p><strong>Mã NCC:</strong> ' + (supplier.supplierCode || '') + '</p>' +\r\n");
      out.write("                                                        '<p><strong>Tên công ty:</strong> ' + (supplier.companyName || '') + '</p>' +\r\n");
      out.write("                                                        '<p><strong>Người liên hệ:</strong> ' + (supplier.contactPerson || 'Chưa có') + '</p>' +\r\n");
      out.write("                                                        '<p><strong>Email:</strong> ' + (supplier.email || 'Chưa có') + '</p>' +\r\n");
      out.write("                                                        '<p><strong>Điện thoại:</strong> ' + (supplier.phone || 'Chưa có') + '</p>' +\r\n");
      out.write("                                                        '</div>' +\r\n");
      out.write("                                                        '<div class=\"col-md-6\">' +\r\n");
      out.write("                                                        '<h5>Thông tin bổ sung</h5>' +\r\n");
      out.write("                                                        '<p><strong>Địa chỉ:</strong> ' + (supplier.address || 'Chưa có') + '</p>' +\r\n");
      out.write("                                                        '<p><strong>Tên ngân hàng:</strong> ' + (bankInfo.bankName || 'Chưa có') + '</p>' +\r\n");
      out.write("                                                        '<p><strong>Số tài khoản:</strong> ' + (bankInfo.accountNumber || 'Chưa có') + '</p>' +\r\n");
      out.write("                                                        '<p><strong>Trạng thái:</strong> <span class=\"label ' + (supplier.status === 'active' ? 'label-success' : 'label-default') + '\">' +\r\n");
      out.write("                                                        (supplier.status === 'active' ? 'Hoạt động' : 'Không hoạt động') + '</span></p>' +\r\n");
      out.write("                                                        '</div>' +\r\n");
      out.write("                                                        '</div>';\r\n");
      out.write("                                                    $('#viewSupplierContent').html(content);\r\n");
      out.write("                                                    $('#viewSupplierModal').modal('show');\r\n");
      out.write("                                                } else {\r\n");
      out.write("                                                    alert('Không thể tải thông tin nhà cung cấp: ' + (response.message || 'Lỗi không xác định'));\r\n");
      out.write("                                                }\r\n");
      out.write("                                            },\r\n");
      out.write("                                            error: function (xhr, status, error) {\r\n");
      out.write("                                                console.error('AJAX Error:', error);\r\n");
      out.write("                                                alert('Lỗi kết nối đến server: ' + error);\r\n");
      out.write("                                            }\r\n");
      out.write("                                        });\r\n");
      out.write("                                    }\r\n");
      out.write("                                    function editSupplier(element) {\r\n");
      out.write("                                        var id = $(element).data('supplier-id');\r\n");
      out.write("                                        if (!id || id <= 0) {\r\n");
      out.write("                                            alert('ID nhà cung cấp không hợp lệ');\r\n");
      out.write("                                            return;\r\n");
      out.write("                                        }\r\n");
      out.write("\r\n");
      out.write("                                        $.ajax({\r\n");
      out.write("                                            url: '");
      out.print(request.getContextPath());
      out.write("/supplier?action=view&id=' + id,\r\n");
      out.write("                                            type: 'GET',\r\n");
      out.write("                                            dataType: 'json',\r\n");
      out.write("                                            success: function (response) {\r\n");
      out.write("                                                if (response.success) {\r\n");
      out.write("                                                    var d = response.data;\r\n");
      out.write("                                                    $('#edit_supplier_id').val(d.id);\r\n");
      out.write("                                                    $('#edit_supplier_code').val(d.supplierCode);\r\n");
      out.write("                                                    $('#edit_company_name').val(d.companyName);\r\n");
      out.write("                                                    $('#edit_contact_person').val(d.contactPerson);\r\n");
      out.write("                                                    $('#edit_email').val(d.email);\r\n");
      out.write("                                                    $('#edit_phone').val(d.phone);\r\n");
      out.write("                                                    $('#edit_address').val(d.address);\r\n");
      out.write("\r\n");
      out.write("                                                    // Parse bank_info JSON và điền vào 2 trường riêng biệt\r\n");
      out.write("                                                    var bankInfo = parseBankInfo(d.bankInfo);\r\n");
      out.write("                                                    $('#edit_bank_name').val(bankInfo.bankName);\r\n");
      out.write("                                                    $('#edit_account_number').val(bankInfo.accountNumber);\r\n");
      out.write("                                                    $('#edit_bank_info').val(d.bankInfo); // Giữ nguyên JSON gốc\r\n");
      out.write("\r\n");
      out.write("                                                    $('#edit_status').val(d.status);\r\n");
      out.write("                                                    $('#editSupplierModal').modal('show');\r\n");
      out.write("                                                } else {\r\n");
      out.write("                                                    alert('Không thể tải thông tin nhà cung cấp: ' + (response.message || 'Lỗi không xác định'));\r\n");
      out.write("                                                }\r\n");
      out.write("                                            },\r\n");
      out.write("                                            error: function (xhr, status, error) {\r\n");
      out.write("                                                console.error('AJAX Error:', error);\r\n");
      out.write("                                                alert('Lỗi kết nối đến server: ' + error);\r\n");
      out.write("                                            }\r\n");
      out.write("                                        });\r\n");
      out.write("                                    }\r\n");
      out.write("                                    function deleteSupplier(element) {\r\n");
      out.write("                                        var id = $(element).data('supplier-id');\r\n");
      out.write("                                        if (!id || id <= 0) {\r\n");
      out.write("                                            alert('ID nhà cung cấp không hợp lệ');\r\n");
      out.write("                                            return;\r\n");
      out.write("                                        }\r\n");
      out.write("\r\n");
      out.write("                                        if (confirm('Bạn có chắc chắn muốn xóa nhà cung cấp này?')) {\r\n");
      out.write("                                            // Sử dụng form submit thay vì AJAX để đảm bảo redirect hoạt động\r\n");
      out.write("                                            var form = document.createElement('form');\r\n");
      out.write("                                            form.method = 'POST';\r\n");
      out.write("                                            form.action = '");
      out.print(request.getContextPath());
      out.write("/supplier';\r\n");
      out.write("\r\n");
      out.write("                                            var actionInput = document.createElement('input');\r\n");
      out.write("                                            actionInput.type = 'hidden';\r\n");
      out.write("                                            actionInput.name = 'action';\r\n");
      out.write("                                            actionInput.value = 'delete';\r\n");
      out.write("                                            form.appendChild(actionInput);\r\n");
      out.write("\r\n");
      out.write("                                            var idInput = document.createElement('input');\r\n");
      out.write("                                            idInput.type = 'hidden';\r\n");
      out.write("                                            idInput.name = 'id';\r\n");
      out.write("                                            idInput.value = id;\r\n");
      out.write("                                            form.appendChild(idInput);\r\n");
      out.write("\r\n");
      out.write("                                            document.body.appendChild(form);\r\n");
      out.write("                                            form.submit();\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    function hideSupplier(element) {\r\n");
      out.write("                                        var id = $(element).data('supplier-id');\r\n");
      out.write("                                        if (!id || id <= 0) {\r\n");
      out.write("                                            alert('ID nhà cung cấp không hợp lệ');\r\n");
      out.write("                                            return;\r\n");
      out.write("                                        }\r\n");
      out.write("\r\n");
      out.write("                                        if (confirm('Bạn có chắc chắn muốn ẩn nhà cung cấp này?\\n\\nLưu ý: Tất cả sản phẩm của nhà cung cấp này cũng sẽ bị ẩn.')) {\r\n");
      out.write("                                            var form = document.createElement('form');\r\n");
      out.write("                                            form.method = 'POST';\r\n");
      out.write("                                            form.action = '");
      out.print(request.getContextPath());
      out.write("/supplier';\r\n");
      out.write("\r\n");
      out.write("                                            var actionInput = document.createElement('input');\r\n");
      out.write("                                            actionInput.type = 'hidden';\r\n");
      out.write("                                            actionInput.name = 'action';\r\n");
      out.write("                                            actionInput.value = 'hide';\r\n");
      out.write("                                            form.appendChild(actionInput);\r\n");
      out.write("\r\n");
      out.write("                                            var idInput = document.createElement('input');\r\n");
      out.write("                                            idInput.type = 'hidden';\r\n");
      out.write("                                            idInput.name = 'id';\r\n");
      out.write("                                            idInput.value = id;\r\n");
      out.write("                                            form.appendChild(idInput);\r\n");
      out.write("\r\n");
      out.write("                                            document.body.appendChild(form);\r\n");
      out.write("                                            form.submit();\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    function showSupplier(element) {\r\n");
      out.write("                                        var id = $(element).data('supplier-id');\r\n");
      out.write("                                        if (!id || id <= 0) {\r\n");
      out.write("                                            alert('ID nhà cung cấp không hợp lệ');\r\n");
      out.write("                                            return;\r\n");
      out.write("                                        }\r\n");
      out.write("\r\n");
      out.write("                                        if (confirm('Bạn có chắc chắn muốn hiện lại nhà cung cấp này?')) {\r\n");
      out.write("                                            var form = document.createElement('form');\r\n");
      out.write("                                            form.method = 'POST';\r\n");
      out.write("                                            form.action = '");
      out.print(request.getContextPath());
      out.write("/supplier';\r\n");
      out.write("\r\n");
      out.write("                                            var actionInput = document.createElement('input');\r\n");
      out.write("                                            actionInput.type = 'hidden';\r\n");
      out.write("                                            actionInput.name = 'action';\r\n");
      out.write("                                            actionInput.value = 'show';\r\n");
      out.write("                                            form.appendChild(actionInput);\r\n");
      out.write("\r\n");
      out.write("                                            var idInput = document.createElement('input');\r\n");
      out.write("                                            idInput.type = 'hidden';\r\n");
      out.write("                                            idInput.name = 'id';\r\n");
      out.write("                                            idInput.value = id;\r\n");
      out.write("                                            form.appendChild(idInput);\r\n");
      out.write("\r\n");
      out.write("                                            document.body.appendChild(form);\r\n");
      out.write("                                            form.submit();\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    // Biến phân trang cho suppliers\r\n");
      out.write("                                    var currentPageSuppliers = 1;\r\n");
      out.write("                                    var itemsPerPageSuppliers = 10;\r\n");
      out.write("                                    var totalItemsSuppliers = 0;\r\n");
      out.write("\r\n");
      out.write("                                    /**\r\n");
      out.write("                                     * Hàm reset tất cả bộ lọc và reload trang\r\n");
      out.write("                                     */\r\n");
      out.write("                                    function resetFilters() {\r\n");
      out.write("                                        // Redirect về trang supplier không có filter parameters\r\n");
      out.write("                                        window.location.href = '");
      out.print(request.getContextPath());
      out.write("/supplier';\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    /**\r\n");
      out.write("                                     * Hàm chuyển đến trang cụ thể bằng cách submit form với page parameter\r\n");
      out.write("                                     */\r\n");
      out.write("                                    function goToPageSuppliers(page) {\r\n");
      out.write("                                        var form = document.getElementById('filterForm');\r\n");
      out.write("                                        // Tạo input hidden cho page number\r\n");
      out.write("                                        var pageInput = document.createElement('input');\r\n");
      out.write("                                        pageInput.type = 'hidden';\r\n");
      out.write("                                        pageInput.name = 'page';\r\n");
      out.write("                                        pageInput.value = page;\r\n");
      out.write("                                        form.appendChild(pageInput);\r\n");
      out.write("                                        form.submit();\r\n");
      out.write("                                    }\r\n");
      out.write("        \r\n");
      out.write("                                    // Khởi tạo khi trang load\r\n");
      out.write("                                    $(document).ready(function() {\r\n");
      out.write("                                        // Load dữ liệu cho dropdown\r\n");
      out.write("                                        loadFilterOptions();\r\n");
      out.write("                                        \r\n");
      out.write("                                        // Lấy thông tin phân trang từ backend\r\n");
      out.write("                                        var currentPage = ");
      out.print( currentPageVal );
      out.write(";\r\n");
      out.write("                                        var totalCount = ");
      out.print( totalCountVal );
      out.write(";\r\n");
      out.write("                                        var totalPages = ");
      out.print( totalPagesVal );
      out.write(";\r\n");
      out.write("                                        currentPageSuppliers = currentPage;\r\n");
      out.write("                                        \r\n");
      out.write("                                        // Cập nhật thông tin hiển thị phân trang\r\n");
      out.write("                                        var startItem = totalCount > 0 ? ((currentPage - 1) * itemsPerPageSuppliers + 1) : 0;\r\n");
      out.write("                                        var endItem = Math.min(currentPage * itemsPerPageSuppliers, totalCount);\r\n");
      out.write("                                        \r\n");
      out.write("                                        if (document.getElementById('showingStart')) {\r\n");
      out.write("                                            document.getElementById('showingStart').textContent = startItem;\r\n");
      out.write("                                        }\r\n");
      out.write("                                        if (document.getElementById('showingEnd')) {\r\n");
      out.write("                                            document.getElementById('showingEnd').textContent = endItem;\r\n");
      out.write("                                        }\r\n");
      out.write("                                        if (document.getElementById('totalRecords')) {\r\n");
      out.write("                                            document.getElementById('totalRecords').textContent = totalCount;\r\n");
      out.write("                                        }\r\n");
      out.write("                                        \r\n");
      out.write("                                        // Cập nhật phân trang\r\n");
      out.write("                                        updatePaginationForBackend(currentPage, totalPages);\r\n");
      out.write("                                        \r\n");
      out.write("                                        // Gắn sự kiện cho nút Previous/Next\r\n");
      out.write("                                        $('#prevBtn').on('click', function(e) {\r\n");
      out.write("                                            e.preventDefault();\r\n");
      out.write("                                            if (currentPageSuppliers > 1) {\r\n");
      out.write("                                                goToPageSuppliers(currentPageSuppliers - 1);\r\n");
      out.write("                                            }\r\n");
      out.write("                                        });\r\n");
      out.write("                                        \r\n");
      out.write("                                        $('#nextBtn').on('click', function(e) {\r\n");
      out.write("                                            e.preventDefault();\r\n");
      out.write("                                            if (currentPageSuppliers < totalPages) {\r\n");
      out.write("                                                goToPageSuppliers(currentPageSuppliers + 1);\r\n");
      out.write("                                            }\r\n");
      out.write("                                        });\r\n");
      out.write("                                    });\r\n");
      out.write("\r\n");
      out.write("                                    /**\r\n");
      out.write("                                     * Cập nhật nút phân trang từ dữ liệu backend\r\n");
      out.write("                                     */\r\n");
      out.write("                                    function updatePaginationForBackend(currentPage, totalPages) {\r\n");
      out.write("                                        var pagination = document.getElementById('pagination');\r\n");
      out.write("                                        var prevBtn = document.getElementById('prevBtn');\r\n");
      out.write("                                        var nextBtn = document.getElementById('nextBtn');\r\n");
      out.write("\r\n");
      out.write("                                        // Cập nhật trạng thái nút Previous\r\n");
      out.write("                                        if (currentPage <= 1) {\r\n");
      out.write("                                            prevBtn.parentElement.classList.add('disabled');\r\n");
      out.write("                                        } else {\r\n");
      out.write("                                            prevBtn.parentElement.classList.remove('disabled');\r\n");
      out.write("                                            prevBtn.onclick = function (e) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                goToPageSuppliers(currentPage - 1);\r\n");
      out.write("                                            };\r\n");
      out.write("                                        }\r\n");
      out.write("\r\n");
      out.write("                                        // Cập nhật trạng thái nút Next\r\n");
      out.write("                                        if (currentPage >= totalPages) {\r\n");
      out.write("                                            nextBtn.parentElement.classList.add('disabled');\r\n");
      out.write("                                        } else {\r\n");
      out.write("                                            nextBtn.parentElement.classList.remove('disabled');\r\n");
      out.write("                                            nextBtn.onclick = function (e) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                goToPageSuppliers(currentPage + 1);\r\n");
      out.write("                                            };\r\n");
      out.write("                                        }\r\n");
      out.write("\r\n");
      out.write("                                        // Xóa các nút số trang cũ (giữ lại Previous và Next)\r\n");
      out.write("                                        var pageButtons = pagination.querySelectorAll('.page-link:not(#prevBtn):not(#nextBtn)');\r\n");
      out.write("                                        pageButtons.forEach(function (btn) {\r\n");
      out.write("                                            btn.parentElement.remove();\r\n");
      out.write("                                        });\r\n");
      out.write("\r\n");
      out.write("                                        // Tạo nút số trang mới\r\n");
      out.write("                                        var startPage = Math.max(1, currentPage - 2);\r\n");
      out.write("                                        var endPage = Math.min(totalPages, currentPage + 2);\r\n");
      out.write("\r\n");
      out.write("                                        for (var i = startPage; i <= endPage; i++) {\r\n");
      out.write("                                            var li = document.createElement('li');\r\n");
      out.write("                                            li.className = 'paginate_button';\r\n");
      out.write("                                            if (i === currentPage) {\r\n");
      out.write("                                                li.classList.add('active');\r\n");
      out.write("                                            }\r\n");
      out.write("\r\n");
      out.write("                                            var a = document.createElement('a');\r\n");
      out.write("                                            a.href = '#';\r\n");
      out.write("                                            a.textContent = i;\r\n");
      out.write("                                            a.className = 'page-link';\r\n");
      out.write("                                            a.setAttribute('data-page', i);\r\n");
      out.write("                                            a.onclick = function (e) {\r\n");
      out.write("                                                e.preventDefault();\r\n");
      out.write("                                                goToPageSuppliers(parseInt(this.getAttribute('data-page')));\r\n");
      out.write("                                            };\r\n");
      out.write("\r\n");
      out.write("                                            li.appendChild(a);\r\n");
      out.write("\r\n");
      out.write("                                            // Chèn trước nút Next\r\n");
      out.write("                                            nextBtn.parentElement.parentElement.insertBefore(li, nextBtn.parentElement);\r\n");
      out.write("                                        }\r\n");
      out.write("                                    }\r\n");
      out.write("\r\n");
      out.write("                                    /**\r\n");
      out.write("                                     * Hàm load dữ liệu cho các dropdown filter\r\n");
      out.write("                                     */\r\n");
      out.write("                                    function loadFilterOptions() {\r\n");
      out.write("                                        $.ajax({\r\n");
      out.write("                                            url: '");
      out.print(request.getContextPath());
      out.write("/supplier?action=getFilterOptions',\r\n");
      out.write("                                            type: 'GET',\r\n");
      out.write("                                            dataType: 'json',\r\n");
      out.write("                                            success: function (response) {\r\n");
      out.write("                                                console.log('Filter options loaded:', response);\r\n");
      out.write("                                                if (response.success && response.data) {\r\n");
      out.write("                                                    // Load danh sách nhà cung cấp vào dropdown\r\n");
      out.write("                                                    var companyDropdown = $('#companyFilter');\r\n");
      out.write("                                                    var companies = response.data.companies || [];\r\n");
      out.write("\r\n");
      out.write("                                                    // Xóa tất cả options trừ option đầu tiên\r\n");
      out.write("                                                    companyDropdown.find('option:not(:first)').remove();\r\n");
      out.write("\r\n");
      out.write("                                                    // Thêm các options mới\r\n");
      out.write("                                                    companies.forEach(function (company) {\r\n");
      out.write("                                                        var option = $('<option></option>')\r\n");
      out.write("                                                            .attr('value', company.companyName || '')\r\n");
      out.write("                                                            .text(company.companyName || '');\r\n");
      out.write("                                                        companyDropdown.append(option);\r\n");
      out.write("                                                    });\r\n");
      out.write("\r\n");
      out.write("                                                    // Load danh sách người liên hệ vào dropdown\r\n");
      out.write("                                                    var contactDropdown = $('#contactFilter');\r\n");
      out.write("                                                    var contacts = response.data.contacts || [];\r\n");
      out.write("\r\n");
      out.write("                                                    // Xóa tất cả options trừ option đầu tiên\r\n");
      out.write("                                                    contactDropdown.find('option:not(:first)').remove();\r\n");
      out.write("\r\n");
      out.write("                                                    // Thêm các options mới\r\n");
      out.write("                                                    contacts.forEach(function (contact) {\r\n");
      out.write("                                                        var option = $('<option></option>')\r\n");
      out.write("                                                            .attr('value', contact.contactPerson || '')\r\n");
      out.write("                                                            .text(contact.contactPerson || '');\r\n");
      out.write("                                                        contactDropdown.append(option);\r\n");
      out.write("                                                    });\r\n");
      out.write("\r\n");
      out.write("                                                    // Khôi phục giá trị đã chọn từ backend (JSP attribute) hoặc URL parameter\r\n");
      out.write("                                                    var selectedCompany = '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${companyFilter}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("';\r\n");
      out.write("                                                    if (!selectedCompany || selectedCompany === '') {\r\n");
      out.write("                                                        var urlParams = new URLSearchParams(window.location.search);\r\n");
      out.write("                                                        selectedCompany = urlParams.get('companyFilter') || '';\r\n");
      out.write("                                                    }\r\n");
      out.write("                                                    if (selectedCompany && selectedCompany !== '') {\r\n");
      out.write("                                                        companyDropdown.val(selectedCompany);\r\n");
      out.write("                                                        // Nếu giá trị không có trong dropdown, thêm vào\r\n");
      out.write("                                                        if (companyDropdown.val() !== selectedCompany) {\r\n");
      out.write("                                                            companyDropdown.append($('<option></option>').val(selectedCompany).text(selectedCompany));\r\n");
      out.write("                                                            companyDropdown.val(selectedCompany);\r\n");
      out.write("                                                        }\r\n");
      out.write("                                                    }\r\n");
      out.write("\r\n");
      out.write("                                                    var selectedContact = '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${contactFilter}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("';\r\n");
      out.write("                                                    if (!selectedContact || selectedContact === '') {\r\n");
      out.write("                                                        var urlParams = new URLSearchParams(window.location.search);\r\n");
      out.write("                                                        selectedContact = urlParams.get('contactFilter') || '';\r\n");
      out.write("                                                    }\r\n");
      out.write("                                                    if (selectedContact && selectedContact !== '') {\r\n");
      out.write("                                                        contactDropdown.val(selectedContact);\r\n");
      out.write("                                                        // Nếu giá trị không có trong dropdown, thêm vào\r\n");
      out.write("                                                        if (contactDropdown.val() !== selectedContact) {\r\n");
      out.write("                                                            contactDropdown.append($('<option></option>').val(selectedContact).text(selectedContact));\r\n");
      out.write("                                                            contactDropdown.val(selectedContact);\r\n");
      out.write("                                                        }\r\n");
      out.write("                                                    }\r\n");
      out.write("                                                } else {\r\n");
      out.write("                                                    console.error('Failed to load filter options:', response.message || 'Unknown error');\r\n");
      out.write("                                                }\r\n");
      out.write("                                            },\r\n");
      out.write("                                            error: function (xhr, status, error) {\r\n");
      out.write("                                                console.error('Error loading filter options:', error);\r\n");
      out.write("                                            }\r\n");
      out.write("                                        });\r\n");
      out.write("                                    }\r\n");
      out.write("                                </script>\r\n");
      out.write("                            </body>\r\n");
      out.write("\r\n");
      out.write("                            </html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_c_005fchoose_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:choose
    org.apache.taglibs.standard.tag.common.core.ChooseTag _jspx_th_c_005fchoose_005f0 = (org.apache.taglibs.standard.tag.common.core.ChooseTag) _005fjspx_005ftagPool_005fc_005fchoose.get(org.apache.taglibs.standard.tag.common.core.ChooseTag.class);
    _jspx_th_c_005fchoose_005f0.setPageContext(_jspx_page_context);
    _jspx_th_c_005fchoose_005f0.setParent(null);
    int _jspx_eval_c_005fchoose_005f0 = _jspx_th_c_005fchoose_005f0.doStartTag();
    if (_jspx_eval_c_005fchoose_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("                                                                                                ");
        if (_jspx_meth_c_005fwhen_005f0(_jspx_th_c_005fchoose_005f0, _jspx_page_context))
          return true;
        out.write("\r\n");
        out.write("                                                                                                ");
        if (_jspx_meth_c_005fotherwise_005f1(_jspx_th_c_005fchoose_005f0, _jspx_page_context))
          return true;
        out.write("\r\n");
        out.write("                                                                                            ");
        int evalDoAfterBody = _jspx_th_c_005fchoose_005f0.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fchoose_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fchoose.reuse(_jspx_th_c_005fchoose_005f0);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fchoose.reuse(_jspx_th_c_005fchoose_005f0);
    return false;
  }

  private boolean _jspx_meth_c_005fwhen_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fchoose_005f0, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:when
    org.apache.taglibs.standard.tag.rt.core.WhenTag _jspx_th_c_005fwhen_005f0 = (org.apache.taglibs.standard.tag.rt.core.WhenTag) _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.WhenTag.class);
    _jspx_th_c_005fwhen_005f0.setPageContext(_jspx_page_context);
    _jspx_th_c_005fwhen_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f0);
    // /supplier.jsp(430,96) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fwhen_005f0.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${not empty suppliers}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
    int _jspx_eval_c_005fwhen_005f0 = _jspx_th_c_005fwhen_005f0.doStartTag();
    if (_jspx_eval_c_005fwhen_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("                                                                                                    ");
        if (_jspx_meth_c_005fforEach_005f0(_jspx_th_c_005fwhen_005f0, _jspx_page_context))
          return true;
        out.write("\r\n");
        out.write("                                                                                                ");
        int evalDoAfterBody = _jspx_th_c_005fwhen_005f0.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fwhen_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.reuse(_jspx_th_c_005fwhen_005f0);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.reuse(_jspx_th_c_005fwhen_005f0);
    return false;
  }

  private boolean _jspx_meth_c_005fforEach_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fwhen_005f0, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:forEach
    org.apache.taglibs.standard.tag.rt.core.ForEachTag _jspx_th_c_005fforEach_005f0 = (org.apache.taglibs.standard.tag.rt.core.ForEachTag) _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.get(org.apache.taglibs.standard.tag.rt.core.ForEachTag.class);
    _jspx_th_c_005fforEach_005f0.setPageContext(_jspx_page_context);
    _jspx_th_c_005fforEach_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fwhen_005f0);
    // /supplier.jsp(432,100) name = var type = java.lang.String reqTime = false required = false fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f0.setVar("supplier");
    // /supplier.jsp(432,100) name = items type = javax.el.ValueExpression reqTime = true required = false fragment = false deferredValue = true expectedTypeName = java.lang.Object deferredMethod = false methodSignature = null
    _jspx_th_c_005fforEach_005f0.setItems(new org.apache.jasper.el.JspValueExpression("/supplier.jsp(432,100) '${suppliers}'",_el_expressionfactory.createValueExpression(_jspx_page_context.getELContext(),"${suppliers}",java.lang.Object.class)).getValue(_jspx_page_context.getELContext()));
    int[] _jspx_push_body_count_c_005fforEach_005f0 = new int[] { 0 };
    try {
      int _jspx_eval_c_005fforEach_005f0 = _jspx_th_c_005fforEach_005f0.doStartTag();
      if (_jspx_eval_c_005fforEach_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
        do {
          out.write("\r\n");
          out.write("                                                                                                        <tr>\r\n");
          out.write("                                                                                                            <td>");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.id}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("\r\n");
          out.write("                                                                                                            </td>\r\n");
          out.write("                                                                                                            <td>");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.supplierCode}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("\r\n");
          out.write("                                                                                                            </td>\r\n");
          out.write("                                                                                                            <td>");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.companyName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("\r\n");
          out.write("                                                                                                            </td>\r\n");
          out.write("                                                                                                            <td>");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.contactPerson}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("\r\n");
          out.write("                                                                                                            </td>\r\n");
          out.write("                                                                                                            <td>");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.email}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("\r\n");
          out.write("                                                                                                            </td>\r\n");
          out.write("                                                                                                            <td>");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.phone}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("\r\n");
          out.write("                                                                                                            </td>\r\n");
          out.write("                                                                                                            <td>\r\n");
          out.write("                                                                                                                <span\r\n");
          out.write("                                                                                                                    class=\"label ");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.status == 'active' ? 'label-success' : (supplier.status == 'inactive' ? 'label-warning' : 'label-default')}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("\">\r\n");
          out.write("                                                                                                                    ");
          out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.status\r\n                                                                                                                    ==\r\n                                                                                                                    'active'\r\n                                                                                                                    ?\r\n                                                                                                                    'Hoạt\r\n                                                                                                                    động'\r\n                                                                                                                    :\r\n                                                                                                                    (supplier.status\r\n                                                                                                                    ==\r\n                                                                                                                    'inactive'\r\n                                                                                                                    ?\r\n                                                                                                                    'Tạm\r\n                                                                                                                    ẩn'\r\n                                                                                                                    :\r\n                                                                                                                    'Không\r\n                                                                                                                    hoạt\r\n                                                                                                                    động')}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
          out.write("\r\n");
          out.write("                                                                                                                </span>\r\n");
          out.write("                                                                                                            </td>\r\n");
          out.write("                                                                                                            <td>\r\n");
          out.write("                                                                                                                ");
          if (_jspx_meth_c_005fchoose_005f1(_jspx_th_c_005fforEach_005f0, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f0))
            return true;
          out.write("\r\n");
          out.write("                                                                                                            </td>\r\n");
          out.write("                                                                                                        </tr>\r\n");
          out.write("                                                                                                    ");
          int evalDoAfterBody = _jspx_th_c_005fforEach_005f0.doAfterBody();
          if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
            break;
        } while (true);
      }
      if (_jspx_th_c_005fforEach_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
        return true;
      }
    } catch (java.lang.Throwable _jspx_exception) {
      while (_jspx_push_body_count_c_005fforEach_005f0[0]-- > 0)
        out = _jspx_page_context.popBody();
      _jspx_th_c_005fforEach_005f0.doCatch(_jspx_exception);
    } finally {
      _jspx_th_c_005fforEach_005f0.doFinally();
      _005fjspx_005ftagPool_005fc_005fforEach_0026_005fvar_005fitems.reuse(_jspx_th_c_005fforEach_005f0);
    }
    return false;
  }

  private boolean _jspx_meth_c_005fchoose_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fforEach_005f0, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f0)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:choose
    org.apache.taglibs.standard.tag.common.core.ChooseTag _jspx_th_c_005fchoose_005f1 = (org.apache.taglibs.standard.tag.common.core.ChooseTag) _005fjspx_005ftagPool_005fc_005fchoose.get(org.apache.taglibs.standard.tag.common.core.ChooseTag.class);
    _jspx_th_c_005fchoose_005f1.setPageContext(_jspx_page_context);
    _jspx_th_c_005fchoose_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fforEach_005f0);
    int _jspx_eval_c_005fchoose_005f1 = _jspx_th_c_005fchoose_005f1.doStartTag();
    if (_jspx_eval_c_005fchoose_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("                                                                                                                    ");
        if (_jspx_meth_c_005fwhen_005f1(_jspx_th_c_005fchoose_005f1, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f0))
          return true;
        out.write("\r\n");
        out.write("                                                                                                                    ");
        if (_jspx_meth_c_005fotherwise_005f0(_jspx_th_c_005fchoose_005f1, _jspx_page_context, _jspx_push_body_count_c_005fforEach_005f0))
          return true;
        out.write("\r\n");
        out.write("                                                                                                                ");
        int evalDoAfterBody = _jspx_th_c_005fchoose_005f1.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fchoose_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fchoose.reuse(_jspx_th_c_005fchoose_005f1);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fchoose.reuse(_jspx_th_c_005fchoose_005f1);
    return false;
  }

  private boolean _jspx_meth_c_005fwhen_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fchoose_005f1, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f0)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:when
    org.apache.taglibs.standard.tag.rt.core.WhenTag _jspx_th_c_005fwhen_005f1 = (org.apache.taglibs.standard.tag.rt.core.WhenTag) _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.WhenTag.class);
    _jspx_th_c_005fwhen_005f1.setPageContext(_jspx_page_context);
    _jspx_th_c_005fwhen_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f1);
    // /supplier.jsp(472,116) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fwhen_005f1.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.status == 'active'}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
    int _jspx_eval_c_005fwhen_005f1 = _jspx_th_c_005fwhen_005f1.doStartTag();
    if (_jspx_eval_c_005fwhen_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("                                                                                                                        <button\r\n");
        out.write("                                                                                                                            class=\"btn btn-info btn-xs\"\r\n");
        out.write("                                                                                                                            data-supplier-id=\"");
        out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.id}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
        out.write("\"\r\n");
        out.write("                                                                                                                            onclick=\"viewSupplier(this)\">Xem</button>\r\n");
        out.write("                                                                                                                        <button\r\n");
        out.write("                                                                                                                            class=\"btn btn-warning btn-xs\"\r\n");
        out.write("                                                                                                                            data-supplier-id=\"");
        out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.id}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
        out.write("\"\r\n");
        out.write("                                                                                                                            onclick=\"editSupplier(this)\">Sửa</button>\r\n");
        out.write("                                                                                                                        <button\r\n");
        out.write("                                                                                                                            class=\"btn btn-default btn-xs\"\r\n");
        out.write("                                                                                                                            data-supplier-id=\"");
        out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.id}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
        out.write("\"\r\n");
        out.write("                                                                                                                            onclick=\"hideSupplier(this)\">Ẩn</button>\r\n");
        out.write("                                                                                                                        <button\r\n");
        out.write("                                                                                                                            class=\"btn btn-danger btn-xs\"\r\n");
        out.write("                                                                                                                            data-supplier-id=\"");
        out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.id}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
        out.write("\"\r\n");
        out.write("                                                                                                                            onclick=\"deleteSupplier(this)\">Xóa</button>\r\n");
        out.write("                                                                                                                    ");
        int evalDoAfterBody = _jspx_th_c_005fwhen_005f1.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fwhen_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.reuse(_jspx_th_c_005fwhen_005f1);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fwhen_0026_005ftest.reuse(_jspx_th_c_005fwhen_005f1);
    return false;
  }

  private boolean _jspx_meth_c_005fotherwise_005f0(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fchoose_005f1, javax.servlet.jsp.PageContext _jspx_page_context, int[] _jspx_push_body_count_c_005fforEach_005f0)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:otherwise
    org.apache.taglibs.standard.tag.common.core.OtherwiseTag _jspx_th_c_005fotherwise_005f0 = (org.apache.taglibs.standard.tag.common.core.OtherwiseTag) _005fjspx_005ftagPool_005fc_005fotherwise.get(org.apache.taglibs.standard.tag.common.core.OtherwiseTag.class);
    _jspx_th_c_005fotherwise_005f0.setPageContext(_jspx_page_context);
    _jspx_th_c_005fotherwise_005f0.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f1);
    int _jspx_eval_c_005fotherwise_005f0 = _jspx_th_c_005fotherwise_005f0.doStartTag();
    if (_jspx_eval_c_005fotherwise_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("                                                                                                                        <button\r\n");
        out.write("                                                                                                                            class=\"btn btn-success btn-xs\"\r\n");
        out.write("                                                                                                                            data-supplier-id=\"");
        out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.id}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
        out.write("\"\r\n");
        out.write("                                                                                                                            onclick=\"showSupplier(this)\">Hiện</button>\r\n");
        out.write("                                                                                                                        <button\r\n");
        out.write("                                                                                                                            class=\"btn btn-danger btn-xs\"\r\n");
        out.write("                                                                                                                            data-supplier-id=\"");
        out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${supplier.id}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
        out.write("\"\r\n");
        out.write("                                                                                                                            onclick=\"deleteSupplier(this)\">Xóa</button>\r\n");
        out.write("                                                                                                                    ");
        int evalDoAfterBody = _jspx_th_c_005fotherwise_005f0.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fotherwise_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fotherwise.reuse(_jspx_th_c_005fotherwise_005f0);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fotherwise.reuse(_jspx_th_c_005fotherwise_005f0);
    return false;
  }

  private boolean _jspx_meth_c_005fotherwise_005f1(javax.servlet.jsp.tagext.JspTag _jspx_th_c_005fchoose_005f0, javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:otherwise
    org.apache.taglibs.standard.tag.common.core.OtherwiseTag _jspx_th_c_005fotherwise_005f1 = (org.apache.taglibs.standard.tag.common.core.OtherwiseTag) _005fjspx_005ftagPool_005fc_005fotherwise.get(org.apache.taglibs.standard.tag.common.core.OtherwiseTag.class);
    _jspx_th_c_005fotherwise_005f1.setPageContext(_jspx_page_context);
    _jspx_th_c_005fotherwise_005f1.setParent((javax.servlet.jsp.tagext.Tag) _jspx_th_c_005fchoose_005f0);
    int _jspx_eval_c_005fotherwise_005f1 = _jspx_th_c_005fotherwise_005f1.doStartTag();
    if (_jspx_eval_c_005fotherwise_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("                                                                                                    <tr>\r\n");
        out.write("                                                                                                        <td colspan=\"8\"\r\n");
        out.write("                                                                                                            class=\"text-center\">\r\n");
        out.write("                                                                                                            Không có dữ\r\n");
        out.write("                                                                                                            liệu nhà\r\n");
        out.write("                                                                                                            cung cấp\r\n");
        out.write("                                                                                                        </td>\r\n");
        out.write("                                                                                                    </tr>\r\n");
        out.write("                                                                                                ");
        int evalDoAfterBody = _jspx_th_c_005fotherwise_005f1.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fotherwise_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fotherwise.reuse(_jspx_th_c_005fotherwise_005f1);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fotherwise.reuse(_jspx_th_c_005fotherwise_005f1);
    return false;
  }
}
